<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1">
<link href='https://fonts.googleapis.com/css?family=Architects+Daughter'
	rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css"
	media="screen">
<link rel="stylesheet" type="text/css"
	href="stylesheets/pygment_trac.css" media="screen">
<link rel="stylesheet" type="text/css" href="stylesheets/print.css"
	media="print">

<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<title>FAMA Framework</title>
</head>

<body>
	<header>
		<div class="inner">
			<h1>FAMA Framework</h1>
			<h2>FAMA Extensions Development Guide</h2>
			<a href="https://github.com/ISA-Research-Group/FaMA/tree/develop"
				class="button"><small>View project on</small>GitHub</a>
		</div>
	</header>

	<nav>
		<div class="inner">
			<a href="index.html"><img alt="Home" src="images/home.png"
				width="24" height="24" /></a>
		</div>
	</nav>

	<div id="content-wrapper">
		<div class="inner clearfix">
			<section id="main-content">
				<h3>
					<a name="create-fama-extension" class="anchor"
						href="create-fama-extension"><span
						class="octicon octicon-link"></span></a>4 Creating a New FAMA
					Extension
				</h3>

				<p>
					<img alt="This page is under construction"
						src="images/page-under-construction.gif" />
				</p>

				<h4>
					<a name="develop-new-reasoner" class="anchor"
						href="develop-new-reasoner"><span class="octicon octicon-link"></span></a>4.1
					Developing a New Reasoner
				</h4>

				<p>
					<img alt="This page is under construction"
						src="images/page-under-construction.gif" />
				</p>

				<h5>
					<a name="develop-new-reasoner" class="anchor"
						href="develop-new-reasoner"><span class="octicon octicon-link"></span></a>Developing
					a new question to be answered by the reasoner
				</h5>

				<p>The previous questions are the default questions a reasoner
					should be able to answer, but it should not be limited to this set.
					New questions may require a complete implementation to be answered
					or they can use or compose the solutions of already existing
					questions.
				<ol>
					<li>The new question should extend the abstract class created
						in step 3 <a>here</a>.
					</li>
					<li>Provide the implementation for the three phases of the
						answering process. If you require to use or compose the solutions
						of already existing questions do not call the answer phase
						directly. You must use the ask method provided by the reasoner
						class implemented in step 2 <a>here</a>, as it will ensure that
						the three-phased answering process is carried out completely for
						each question.
					</li>
				</ol>

				</p>

				<h4>
					<a name="connect-fama-extension" class="anchor"
						href="connect-fama-extension"><span
						class="octicon octicon-link"></span></a>4.2 Connecting the new FAMA
					Extension to the FAMA Framework
				</h4>

				<p>
					FAMA Extensions are loaded dynamically based on availability. The
					concept behind dynamic loading is to associate implementations to
					the available interfaces. Extensions can be loaded using either
					OSGi or a Java class loader. Remember the
					<code>Activator</code>
					class from step 3 <a>here</a>? This class’s responsibility is to
					load the FAMA Extension using OSGi and make it available to be used
					by the FAMA Framework. The SPL Core of the FAMA Framework,
					implemented by the project
					<code>FaMaSDK</code>
					, has an
					<code>Activator</code>
					class too. In this case the
					<code>FaMaSDK</code>
					’s Activator is used to load all the FAMA Extensions available.
				</p>

				<p>
					Your FAMA Extension’s
					<code>Activator</code>
					class should define two methods:
					<code>start</code>
					and
					<code>stop</code>
					. The
					<code>start</code>
					method is called when the FAMA Extension is activated and should
					register the services you implemented in it. The
					<code>stop</code>
					method should unregister such services. For example, for the Choco
					3 reasoner the start method creates an instance for the reasoner’s
					implementation that handles simple feature models as well as for
					each of the supported questions, and then registers them as
					services in the OSGi context so they can be available to
					<code>FaMaSDK</code>
					. The stop method unregisters the questions and the reasoner from
					the OSGi context.
				</p>

				<p>
					If OSGi is not available or not used, the Extension can be loaded
					using a Java class loader, which works in a similar way as OSGi but
					services are not registered through a Java class. Depending on the
					type of extension (e.g. reasoner, metamodel) it would be required
					to have more than one loader configuration file. The FAMA loader
					configuration file is named
					<code>FaMaConfig.xml</code>
					and is found in the project
					<code>FaMa-Docs</code>
					. For a new reasoner extension, a
					<code>&ltreasoner /&gt</code>
					tag should be added in-between the
					<code>&ltquestionTrader&gt&lt/questionTrader&gt</code>
					tags. For the Choco 3 reasoner implementation we inserted the tag
					in the following listing.
				</p>
				<pre>
					<code>
&ltreasoner id="Choco3Simple" 
file="lib/Choco3Reasoner_1.0.0.jar" 
class="co.icesi.i2t.Choco3Reasoner.simple.Choco3Reasoner" /&gt
					</code>
				</pre>

				<p>Particularly for a reasoner extension, questions need to be
					loaded independently. The reasoner project should contain its own
					loader configuration file, in the <code>resources</code> folder, with
					interface-class pair tags. For a reasoner extension the loader
					configuration file needs to follow the format shown in the
					following listing.</p>
				<pre>
					<code>
&ltreasoner&gt
	&ltquestion interface="«interface canonical name»" class="implementation class’s canonical name"/&gt
&lt/reasoner&gt
					</code>
				</pre>
				</p>

				<p>The Choco 3 reasoner loader configuration file for simple
					feature models looks like the fragment in the following listing.</p>
				<pre>
					<code>
&ltreasoner&gt
	&ltquestion interface="es.us.isa.FAMA.Reasoner.questions.CommonalityQuestion" class="co.icesi.i2t.Choco3Reasoner.simple.questions.Choco3CommonalityQuestion"/&gt
...
&lt/reasoner&gt

					</code>
				</pre>
			</section>

			<aside id="sidebar">
				<a href="files/FAMA-Framework-Extensions-Development-Guide.pdf"
					class="button"> <small>Download Guide</small> .pdf file
				</a>
				<p class="repo-owner">
					The <a href="https://github.com/ISA-Research-Group/FaMA">FAMA
						Framework</a> is maintained by the <a href="http://www.isa.us.es">ISA
						Research Group</a>.
				</p>

				<p>The first version of this guide was developed in the context
					of the FAMA Framework project and the SHIFT project during a
					research scholarship at University of Seville (Seville, Spain),
					partly funded by Banco Santander under the program Becas
					Iberoamérica Jóvenes Profesores Investigadores Colombia and
					Colciencias (Colombian Administrative Department of Science,
					Technology and Innovation).</p>
				<p>
					<img alt="Creative Commons Attribution 4.0 International License"
						src="images/cc-license.png">This work is licensed under the
					Creative Commons Attribution 4.0 International License. To view a
					copy of this license, visit <a
						href="http://creativecommons.org/licenses/by/4.0/">CreativeCommons.org</a>.
				</p>
			</aside>
		</div>
	</div>

	<footer>
		<div class="inner">
			<p>
				This page was generated by <a href="https://pages.github.com">GitHub
					Pages</a> using a variation of the Architect theme by <a
					href="https://twitter.com/jasonlong">Jason Long</a>.
			</p>
		</div>
	</footer>


</body>
</html>